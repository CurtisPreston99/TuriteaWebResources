<!DOCTYPE html>
<!--
Project:  Turitea Stream Ecology
Author:   CHEN, Xingyu; GRAY, Lance; PRESTON, Curtis
Date:     20.08.2019
-->
<html>
    <head>
        <title>Settings</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="css/layout.css"/>
        <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
        <link rel="stylesheet" href="/resources/demos/style.css">
        <script src="js/md5.js"></script>
        <script src="js/jquery.min.js"></script>
        <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
        <script src='https://kit.fontawesome.com/a076d05399.js'></script>
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.5.1/dist/leaflet.css" integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ==" crossorigin=""/>
        <script src="https://unpkg.com/leaflet@1.5.1/dist/leaflet.js" integrity="sha512-GffPMF3RvMeYyc1LWMHtK8EbPv0iNZ8/oTtHPx9/cc2ILxQ+u905qIwdpULaqDkyBKgOaB57QTMg7ztg8Jm2Og==" crossorigin=""></script>
        <script src="js/pin.js"></script>
        <script src="js/article.js"></script>
        <script src="js/INaturalist.js"></script>
        <script src="js/userfunctions.js"></script>
        <script src="js/ui.js"></script>
        <script src="js/kml.js"></script>

        <link href="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.12/summernote-lite.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.12/summernote-lite.js"></script>


        <script>
            $(function () {
                $("header").load("header.html");
                $("#footer").load("footer.html");
                $("#tabs").tabs();
            });
        </script>
    </head>
    <body>
        <header></header>
        <section>
            <div id="popup"></div>
            <h1>Settings</h1>
            <hr>
            <div id="tabs">
                <ul>
                    <li><a href="#tabs-1">Users</a></li>
                    <li><a href="#tabs-2" onclick="mapload()">Pins</a></li>
                    <li><a href="#tabs-3">upload article</a></li>
                    <li><a href="#tabs-4">uplaod INaturalist data</a></li>
                    <li><a href="#tabs-5" onclick="getKMLList()">kml Data</a></li>
                    <li><a href="#tabs-6">change password</a></li>
                    <li><a href="#tabs-7" onclick="getallUsers()">remove user</a></li>
                </ul>

                <!-- tab 1 -->
                <div id="tabs-1">
                    <h3> add user</h3>

                        user name:<input id="adduserName" type="text" name="name">
                        user type:<select id="roleselect" name="role">
                          <option value='1'>normal user</option>
                          <option value='1'>super user</option>
                        </select>
                        <br>
                        <button onclick="adduser()" name="add user">add user</button>
                </div>

                <!-- tab 2 -->
                <div id="tabs-2">
                    <div id="pinSelection">
                        <select id="pinSelect" onclick="selectPin()">
                        </select>
                    </div>
                    <div id='fourm'>
                        <div id='nameDic'>
                            name:<textarea id="name" rows="1" cols="40" ></textarea>
                        </div>
                        <div id="icon">
                            icon:<select id="iconSelect">
                            </select>
                        </div>
                        <div id="color">
                            color:<input type="color" id="colorSelectors">
                        </div>
                        <div id="description">
                            <div id="summernote"></div>
                        </div>
                        <div id='cords'>
                            <button onclick="hidemap()" id="inputSwitch"> manually enter cords</button>
                            <div id='mapDiv'>
                                <div id='cordDisplay'>
                                    long:   lat:
                                </div>
                                <div id='map'></div>
                            </div>
                            <div id='longLat'>
                                longitude:<textarea id="longText" rows="1" cols="40" ></textarea>
                                latitude:<textarea id="latText" rows="1" cols="40" ></textarea>
                            </div>
                        </div>
                        <div id="updateP">
                            <button id="updatePin" onclick="updatePin()">updatePin</button>
                            <button id="delete" onclick="deletePin()">deletePin</button>
                        </div>
                    </div>
                </div>

                <!-- tab 3 -->
                <div id="tabs-3">
                  <h3>add articles</h3>
                  summary:
                  </br>
                  <textarea id="articleSum" width="100"></textarea>
                  <div id="summernote2"></div>
                  <button onclick="uploadArticleData()">submit</button>
                  <button onclick="uploadFrag()">frag</button>

                  <script>loadeditor()</script>
                </div>

                <!-- tab 4 -->
                <div id="tabs-4" onload="init()">
                    <h3>add INaturalist data</h3>
                    <input type="file" id="csvFileInput" onchange="handleFiles(this.files)"
              accept=".csv">
                    <button onclick="tabletoPins()">upload</button>
                    <div id='INaturalistdata'></div>
                </div>


                <div id="tabs-5">
                  <h3> kml data</h3>


                <!-- <form action="../api/putKML" method="post" enctype="multipart/form-data" id="kmlup">
                    <input type="file" name="kml" id="kml">
                    <input type="submit" value="Upload Image" name="submit">
                </form> -->

                <iframe width="0" height="0" border="0" name="dummyframe" id="dummyframe" style="display:none"></iframe>

                  <form  onsubmit="getKMLList()" action="../api/putKML" method="post" enctype="multipart/form-data" id="kmlup" target="dummyframe">
                      <input type="file" name="kml" id="kml">
                      <input type="submit" value="Upload Image" name="submit">
                  </form>

            <div id="kmlList">

              </div>
                </div>

                <div id="tabs-6">
                  <h3> change password</h3>
                  <table>
                    <tr><td>old password:</td><td><input type="text" id="oldPassowrd"></input><td></tr>
                    <tr><td>new password:</td><td><input type="text" id="newPassword"></input><td></tr>
                  </table>
                  </br>
                  <button onclick="updatePassword()">update passowrd</button>
                </div>


                <div id="tabs-7">
                  <h3> remove user</h3>
                  <div id="userlist"></div>
                  </div>
            </div>
        </section>
        <footer id="footer"></footer>
    </body>
</html>
